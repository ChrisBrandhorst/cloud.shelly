<script type="text/javascript">

Homey.setTitle(Homey.__('pair.title_icon_select'));

$(function() {
  var childs = document.getElementById('icons').children; //returns a HTMLCollection

  for (var i = 0; i < childs.length; i++) { // iterate over it
    childs[i].onclick = function () {   // attach event listener individually
      let data = {
        icon: this.getAttribute("data-icon")
      }
      Homey.emit('setIcon', data, function(error, result) {
        if (result) {
          Homey.nextView()
        } else {
          Homey.alert('Unable to set icon', null, function() {
            Homey.done()
        	});
        }
      });
    }
  }
});

</script>

<style type="text/css">
  .flexbox {
    display: flex;
    flex-direction: row;
    justify-content: space-evenly;
    margin-top: 20px;
  }
  .flexbox .icon {
    border: 2px solid #666666;
    border-radius: 5px;
    padding: 8px;
    margin: 4px;
  }
  .flexbox .icon img {
    width: 100%;
    height: auto;
  }
</style>

<p data-i18n="pair.intro_vintage_icon">Select which icon you want to use for your Shelly Vintage.</p>
<div id="icons" class="flexbox">
  <div class="icon" data-icon="vintage_a60.svg"><img src="../assets/vintage_a60.svg" alt="A60"></div>
  <div class="icon" data-icon="vintage_st64.svg"><img src="../assets/vintage_st64.svg" alt="ST64"></div>
  <div class="icon" data-icon="vintage_g125.svg"><img src="../assets/vintage_g125.svg" alt="G125"></div>
</div>
